loki:
  # Inyectamos el Secret con las credenciales de AWS
  extraEnvFrom:
  - secretRef:
      name: s3-credentials # el Secret que creaste en el namespace de Loki

  storage:
    type: s3
    bucketNames:
      chunks: loki-chunks
      ruler: loki-ruler
      admin: loki-admin
    s3:
      endpoint: s3.amazonaws.com
      region: us-east-1
      bucketnames: loki-chunks
      # Loki tomar√° AWS_ACCESS_KEY_ID y AWS_SECRET_ACCESS_KEY del Secret
      insecure: false

  schemaConfig:
    configs:
    - from: 2023-01-01
      store: boltdb-shipper
      object_store: s3
      schema: v11
      index:
        prefix: index_
        period: 24h

  compactor:
    shared_store: s3
